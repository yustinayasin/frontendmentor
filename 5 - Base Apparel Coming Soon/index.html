<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  
  <title>Frontend Mentor | Base Apparel coming soon page</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
  <!-- <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style> -->
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <main>
    <div class="brand">
      <img src="images/logo.svg" alt="" class="brand-logo">
    </div>
    <img src="images/hero-mobile.jpg" alt="" class="model-photo">
    <div class="content">
      <div class="content-title"> We're <span> coming soon </span></div>
      <div class="content-description">Hello fellow shoppers! We're currently building our new fashion store. 
        Add your email below to stay up-to-date with announcements and our launch deals.</div>
      <form action="#" id="form-email">
        <input type="text" placeholder="Email Address" name="email" id="email">
        <button class="btn-email">
          <img src="images/icon-arrow.svg" alt="">
        </button>
        <img id="error-icon" src="images/icon-error.svg" class="error error-icon">
        <p id="error-message" class="error error-message">Please provide a valid email address</p>
      </form>
    </div>
  </main>
  <script>
    const form = document.getElementById("form-email");
    const email = document.getElementById("email");
    const errorIcon = document.getElementById("error-icon");
    const errorMessage = document.getElementById("error-message");
    
    form.addEventListener('submit', () => {
      if (emailIsValid(email)) {
        validEmail();
      } else {
        invalidEmail();
      }
    });

    function invalidEmail() {
      email.style.border = '2px solid hsl(0, 93%, 68%)';
      errorIcon.style.visibility= 'visible';
      errorMessage.style.visibility= 'visible';
    }

    function validEmail() {
      emailField.style.border = '1px solid hsl(0, 36%, 70%)';
      errorIcon.style.visibility= 'hidden';
      errorMessage.style.visibility= 'hidden';
    }

    function emailIsValid (email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value)
    }

  </script>
</body>
</html>